[package]
name = "basealloc"
version = "0.1.0"
edition = "2024"

[lib]
crate-type = ["rlib"]

[dependencies]
basealloc-sys = { workspace = true }
basealloc-list = { workspace = true }
libc = { workspace = true, optional = true }

[profile.dev]
panic = "abort"

[profile.release]
panic = "abort"
lto = true
strip = "symbols"

[workspace]
members = [
  "crates/basealloc-alloc",
  "crates/basealloc-drop",
  "crates/basealloc-fixed",
  "crates/basealloc-list",
  "crates/basealloc-sys",
  "ffi",
]
resolver = "3"

[workspace.dependencies]
libc = "0.2.176"
getset = "0.1.6"
spin = "0.10.0"
heapless = "0.9.1"

quote = "1.0.41"
syn = "2.0.106"
proc-macro2 = "1.0.101"
petgraph = "0.8.3"

basealloc-sys = { path = "crates/basealloc-sys" }
basealloc-list = { path = "crates/basealloc-list" }
basealloc-fixed = { path = "crates/basealloc-fixed" }
basealloc-bump = { path = "crates/basealloc-bump" }
basealloc-drop = { path = "crates/basealloc-drop" }
basealloc = { path = "." }
